<script>
document.addEventListener("DOMContentLoaded", function () {
  const toggle = document.querySelector(".menu-toggle");
  const mobileMenu = document.querySelector(".mobile-menu");
  const icon = toggle.querySelector("i");
  const siteNav = document.querySelector(".site-nav");

  function checkResize() {
    if (window.innerWidth > 800) {
      mobileMenu.classList.remove("open");
      icon.classList.add("fa-bars");
      icon.classList.remove("fa-times");
      toggle.style.display = "none";
      siteNav.style.display = "flex";
    } else {
      toggle.style.display = "block";
      siteNav.style.display = "none";
    }
  }

  toggle.addEventListener("click", function () {
    mobileMenu.classList.toggle("open");
    icon.classList.toggle("fa-bars");
    icon.classList.toggle("fa-times");
  });

  window.addEventListener("resize", checkResize);
  checkResize();
});
</script>

<!-- HTML HEADER STRUCTURE ADJUSTMENT -->
<header class="site-header">
  <div class="wrapper">
    <div class="site-title-container">
      <span class="red-square">&#9632;</span>
      <a class="site-title" href="{{ '/' | relative_url }}">{{ site.title | escape }}</a>
    </div>

    <div class="header-controls">
      <nav class="site-nav">
        <a class="page-link" href="/projects/">Projects</a>
        <a class="page-link" href="/writings/">Writings</a>
        <a class="page-link" href="/about/">About</a>
      </nav>
      <button class="menu-toggle" aria-label="Toggle menu">
        <i class="fa fa-bars"></i>
      </button>
    </div>

    {% seo %}
  </div>
</header>

<!-- MOBILE MENU CONTAINER -->
<div class="mobile-menu">
  <div class="mobile-wrapper">
    <a class="page-link" href="/projects/">Projects</a>
    <a class="page-link" href="/writings/">Writings</a>
    <a class="page-link" href="/about/">About</a>
  </div>
</div>
